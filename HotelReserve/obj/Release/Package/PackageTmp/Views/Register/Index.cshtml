@model HotelReserve.Models.RegisterViewModel
@{
    ViewBag.titel = "海石三酒店注册";
    Layout = null;
}
<link type="text/css" href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script type="text/javascript" src="~/Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="~/Scripts/bootstrap.min.js"></script>
<script type="text/javascript" src="~/Scripts/layer/layer.js"></script>
<style>
    html {
        width: 100%;
        height: 100%;
    }
    .ys-one {
        border-radius:10px;
        height:38px;
    }
    .box-one {
        width: 320px;
        height: 480px;
        border: 1px solid #797979;
        position: absolute;
        left: 38%;
        top: 20%;
        background-color: rgba(255,255,255,0.5);
        border-radius: 10px;
    }

    .box-two {
        margin-left: 40px;
        margin-top: 20px;
        margin-right: 40px;
        border-radius: 30px;
    }

    .btn-one {
        margin-left: 40px;
        margin-right: 40px;
        width: 238px;
        font-size: 16px;
        font-family: 楷体;
        border-radius: 10px;
    }

    .body_blank {
        background-image: url(/Content/image/bg_2.jpg);
        background-size: cover;
        background-repeat: no-repeat;
    }

    #btn-one {
    }

    #btn-two {
        background-color: #999999;
        margin-top: 20px;
        border: 1px solid #797979;
    }

    .user-read {
        height: 52px;
        margin-left: 40px;
        width: 238px;
        font-size: 12px;
    }
    .title-one {
        position: absolute;
        left: 38%;
        margin-top: 60px;
        font-size: 2em;
        font-weight: 700;
        text-align: center;
        width: 320px;
        font-family: 楷体;
        color: #FFF;
    }
    span {
        color: #5bc0de;
    }
    a {
        color: #ffffff;
        
    }
        a:hover {
            color: #ffffff;
            text-decoration: none;
        }
</style>
<script>
    function beforeSubmit() {
        var UserName = $('#UserName')
        var IdCard = $('#IdCard');
        var Name = $('#Name');
        var PassWord = $('#PassWord');
        var OkPassWord = $('#OkPassWord');
        if (UserName.val() == "") {
            layer.alert('请输入用户名', { icon: 1, skin: 'layer-ext-moon' });
            UserName.focus();
            return false;
        }
        if (IdCard.val() == "") {
            layer.alert('请输入身份证号', { icon: 2, skin: 'layer-ext-moon' });
            IdCard.focus();
            return false;
        }
        if (Name.val() == "") {
            layer.alert('请输入姓名', { icon: 2, skin: 'layer-ext-moon' });
            Name.focus();
            return false;
        }
        if (PassWord.val() == "") {
            layer.alert('请输入密码', { icon: 2, skin: 'layer-ext-moon' });
            PassWord.focus();
            return false

        }
        if (OkPassWord.val() == "") {
            layer.alert('请确认密码', { icon: 2, skin: 'layer-ext-moon' });
            OkPassWord.focus();
            return false
        }   
        if (($("#UserName").val().length < 6)) {
            layer.alert('请输入6位数以上用户名', { icon: 2, skin: 'layer-ext-moon' });
            PassWord.focus();
            return false;
        }  
        if (($("#IdCard").val().length < 18)) {
            layer.alert('请输入18位数以上身份证号码', { icon: 2, skin: 'layer-ext-moon' });
            PassWord.focus();
            return false;
        }  
        if (($("#PassWord").val() .length < 6)) {
            layer.alert('请输入6位数以上密码', { icon: 2, skin: 'layer-ext-moon' });
            PassWord.focus();
            return false;
        }        
        if (PassWord.val() != OkPassWord.val()) {
            layer.alert('两次密码输入不一致', { icon: 2, skin: 'layer-ext-moon' });
            return false;
        }   
        return true;
    }
</script>
<body class="body_blank">
    <div class="title-one">海石三酒店注册</div>
    <form id="myform">
@using (Html.BeginForm("Index", "Register", FormMethod.Post, new { onsubmit = "return beforeSubmit()" }))
{
        <div class="box-one">
            <div class="form-group box-two">
                <div class="input-group">
                    <div class="input-group-addon ys-one"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></div>
                    <input id="UserName" name="UserName" type="text" class="form-control ys-one" placeholder="请输入用户名">
                    @Html.ValidationMessageFor(m => m.UserName, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group box-two">
                <div class="input-group">
                    <div class="input-group-addon ys-one"><span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span></div>
                    <input id="IdCard" name="IdCard" type="text" class="form-control ys-one" placeholder="请输入身份证号码">
                    @Html.ValidationMessageFor(m => m.IdCard, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group box-two">
                <div class="input-group">
                    <div class="input-group-addon ys-one"><span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span></div>
                    <input id="Name" name="Name" type="text" class="form-control ys-one" placeholder="请输入姓名">
                    @Html.ValidationMessageFor(m => m.Name, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group box-two">
                <div class="input-group">
                    <div class="input-group-addon ys-one"><span class="glyphicon glyphicon-lock" aria-hidden="true"></span></div>
                    <input id="PassWord" name="PassWord" type="password" class="form-control ys-one" placeholder="请输入密码">
                    @Html.ValidationMessageFor(m => m.PassWord, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group box-two">
                <div class="input-group">
                    <div class="input-group-addon ys-one"><span class="glyphicon glyphicon-lock" aria-hidden="true"></span></div>
                    <input id="OkPassWord" name="OkPassWord" type="password" class="form-control ys-one" placeholder="请确认密码">
                    @Html.ValidationMessageFor(m => m.OkPassWord, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="user-read">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" checked="checked">我已阅读并同意<br />用户协议
                    </label>
                </div>
            </div>
            <button type="button" class="btn-one btn btn-info" id="btn-one" onclick="Register()">注册</button>
            <button type="button" class="btn-one btn btn-info" id="btn-two"><a href="@Url.Action("Index","Login")">已有账号，立即登陆</a></button>
        </div>
}
    </form>
</body>
<script>
     function Register() {
         $.ajax(
             {
                 cache: false,
                 type: "POST",
                 url: "/Register/Index",
                 dataType: "json",                
                 data: $('#myform').serializeArray(),//序列化表单
                 async: true,
                 error: function (request) {
                     self.parent.layer.msg("失败", { time: 1000 });
                 },
                 beforeSend: function () {                     
                     return beforeSubmit();
                 },
                 complete: function () {
                     self.parent.layer.closeAll('loading');
                 },
                 success: function (data) {
                     if (data.Status) {
                         layer.alert('注册成功', { icon: 1, skin: 'layer-ext-moon' });
                     } else {
                         layer.alert(data.Message, { icon: 2, skin: 'layer-ext-moon' });
                     }
                 }
             });
    }
</script>